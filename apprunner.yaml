version: 1.0
runtime: nodejs18
build:
  commands:
    build:
      - echo ">> Starting Build"
      - cd backend
      - echo ">> Installing Dependencies (Skipping Puppeteer Download)"
      - PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true npm ci
      - echo ">> Generating Prisma Client"
      - npx prisma generate --schema=./prisma/schema.prisma
      - echo ">> Compiling TypeScript"
      - npm run build
      - echo ">> Build Complete"
run:
  command: node backend/dist/server.js
  network:
    port: 8080
